<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Commissioning Lifecycle: From Construction to Operation</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f4f8;
        }
        .card {
            background-color: white;
            border-radius: 0.75rem;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            padding: 1.5rem;
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
        }
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -2px rgb(0 0 0 / 0.1);
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
        .kpi-value {
            font-size: 3.75rem;
            line-height: 1;
            font-weight: 700;
        }
        .arrow {
            display: flex;
            align-items: center;
            justify-content: center;
            color: #7A5195;
            font-size: 2rem;
            margin: 1rem 0;
        }
        .flow-box {
            border: 2px solid #BC5090;
            background-color: #fdf2f8;
            color: #7A5195;
            padding: 1rem;
            border-radius: 0.5rem;
            text-align: center;
            font-weight: 600;
        }
    </style>
</head>
<body class="text-gray-700">
    <!-- Palette Name: Professional & Stylish -->
    <!-- No Mermaid JS or SVG was used in this file. All diagrams are built with HTML/CSS and all charts use the Canvas API via Chart.js. -->

    <div class="container mx-auto p-4 md:p-8">
        <header class="text-center mb-12">
            <h1 class="text-4xl md:text-5xl font-bold text-[#003F5C] mb-4">The Commissioning Lifecycle</h1>
            <p class="text-lg text-[#374C80] max-w-3xl mx-auto">A systematic, quality-focused process ensuring a facility is built, tested, and operates according to its design intent‚Äîfrom static construction checks to dynamic performance runs.</p>
        </header>

        <main class="space-y-12">
            
            <!-- Section 1: Pre-Commissioning -->
            <section id="pre-commissioning">
                <h2 class="text-3xl font-bold text-center text-[#003F5C] mb-8">Phase 1: Pre-Commissioning - The Foundation</h2>
                <p class="text-center max-w-2xl mx-auto mb-8 text-[#374C80]">After construction, Pre-Commissioning (P-Cx) begins. This phase involves static, de-energized checks to verify the facility is built correctly and is safe for energization. It is the crucial handover from construction quality assurance to operational testing.</p>
                
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                    
                    <div class="card md:col-span-2 lg:col-span-1">
                        <h3 class="text-xl font-bold mb-4 text-[#7A5195]">Mechanical Completion (MC)</h3>
                        <div class="text-center">
                            <span class="text-6xl">üìù</span>
                            <p class="mt-4 text-lg font-semibold">The Formal Handover</p>
                            <p class="mt-2">MC signifies that all physical installation is complete per drawings. The asset is now ready for the first pre-commissioning activities.</p>
                        </div>
                    </div>

                    <div class="card md:col-span-2">
                        <h3 class="text-xl font-bold mb-4 text-[#7A5195]">Punch List Categorization</h3>
                        <p class="mb-4">Deficiencies found during inspection are categorized by severity to prioritize safety and functionality. All "Category A" items must be cleared before Mechanical Completion.</p>
                        <div class="flex flex-col sm:flex-row justify-around space-y-4 sm:space-y-0 sm:space-x-4">
                            <div class="text-center p-4 rounded-lg bg-red-100 border border-red-300">
                                <p class="font-bold text-red-700 text-lg">üî¥ Category A (Critical)</p>
                                <p class="text-red-600 mt-1">Affects safety or prevents operation. Must be cleared BEFORE MC.</p>
                            </div>
                            <div class="text-center p-4 rounded-lg bg-yellow-100 border border-yellow-300">
                                <p class="font-bold text-yellow-700 text-lg">üü° Category B (Major)</p>
                                <p class="text-yellow-600 mt-1">Affects reliability. Must be cleared BEFORE Start-Up (RFSU).</p>
                            </div>
                            <div class="text-center p-4 rounded-lg bg-green-100 border border-green-300">
                                <p class="font-bold text-green-700 text-lg">üü¢ Category C (Minor)</p>
                                <p class="text-green-600 mt-1">Aesthetic items. Cleared before Final Acceptance.</p>
                            </div>
                        </div>
                    </div>

                    <div class="card md:col-span-2 lg:col-span-3">
                        <h3 class="text-xl font-bold mb-4 text-[#7A5195]">Pressure Testing: Safety First</h3>
                        <p class="mb-4">Pressure tests verify the integrity of vessels and piping. While hydrostatic testing is standard, pneumatic testing is a high-hazard alternative due to the extreme difference in stored energy.</p>
                        <div class="chart-container">
                            <canvas id="pressureTestChart"></canvas>
                        </div>
                    </div>

                    <div class="card md:col-span-2 lg:col-span-3">
                        <h3 class="text-xl font-bold mb-4 text-[#7A5195]">System Cleaning Velocities</h3>
                         <p class="mb-4">To effectively remove construction debris, flushing and blowing must be performed at specific minimum velocities to mobilize and carry particles out of the system.</p>
                        <div class="chart-container">
                            <canvas id="cleaningVelocityChart"></canvas>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Section 2: Commissioning -->
            <section id="commissioning">
                <h2 class="text-3xl font-bold text-center text-[#003F5C] mb-8">Phase 2: Commissioning - Bringing it to Life</h2>
                <p class="text-center max-w-2xl mx-auto mb-8 text-[#374C80]">Commissioning (Cx) is the dynamic and energized phase. Systems are powered on, and functional performance is verified against the design intent. This is where individual components are proven to work together as an integrated system.</p>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <div class="card">
                        <h3 class="text-xl font-bold mb-4 text-[#BC5090]">Control Loop Verification</h3>
                        <p class="mb-6">Live loop checks are performed to verify the entire control path, from the sensor in the field to the control system and back to the final control element (e.g., a valve or motor).</p>
                        <div class="space-y-4">
                            <div class="flow-box">Sensor (e.g., Temperature, Pressure)</div>
                            <div class="arrow">&#8595;</div>
                            <div class="flow-box">DCS / PLC (Control Logic)</div>
                            <div class="arrow">&#8595;</div>
                            <div class="flow-box">Final Element (e.g., Valve Actuator)</div>
                        </div>
                    </div>

                    <div class="card">
                        <h3 class="text-xl font-bold mb-4 text-[#BC5090]">Dynamic Equipment Runs</h3>
                        <p class="mb-4">Rotating equipment like pumps are run with fluid to verify their performance. Data points for head and flow are plotted against the manufacturer's pump curve to ensure it operates within design specifications.</p>
                        <div class="chart-container h-80">
                             <canvas id="pumpCurveChart"></canvas>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Section 3: Start-Up & Performance Testing -->
            <section id="startup">
                <h2 class="text-3xl font-bold text-center text-[#003F5C] mb-8">Phase 3: Start-Up & Performance Testing</h2>
                <p class="text-center max-w-2xl mx-auto mb-8 text-[#374C80]">This is the most critical phase where process fluids are introduced, and the facility's ability to meet its contractual guarantees for capacity, efficiency, and quality is formally demonstrated.</p>

                <div class="grid grid-cols-1 md:grid-cols-5 gap-8 items-center">
                     <div class="card md:col-span-2 text-center bg-[#003F5C] text-white">
                        <h3 class="text-xl font-bold mb-4">Performance Test Run (PTR)</h3>
                        <p class="kpi-value text-[#FFA600]">72</p>
                        <p class="text-2xl font-semibold">Hour Continuous Run</p>
                        <p class="mt-4">The plant must operate at Maximum Design Capacity for 72 consecutive hours to pass the Performance Test.</p>
                    </div>

                    <div class="card md:col-span-3">
                         <h3 class="text-xl font-bold mb-4 text-[#EF5675]">Maintaining Stability</h3>
                         <p class="mb-4">During the 72-hour test, throughput must remain stable within a narrow band (typically ¬±3%). Any significant deviation negates the test, requiring a restart.</p>
                         <div class="chart-container h-64">
                              <canvas id="stabilityChart"></canvas>
                         </div>
                    </div>
                </div>

                <div class="card mt-8">
                    <h3 class="text-xl font-bold text-center mb-6 text-[#EF5675]">The Path to Final Acceptance</h3>
                    <div class="flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0 md:space-x-4">
                        <div class="flow-box">Ready For Start-Up (RFSU) Certificate</div>
                        <div class="arrow md:rotate-[-90deg]">&#10140;</div>
                        <div class="flow-box">Pre-Start-up Safety Review (PSSR)</div>
                        <div class="arrow md:rotate-[-90deg]">&#10140;</div>
                        <div class="flow-box">Feed Introduction</div>
                        <div class="arrow md:rotate-[-90deg]">&#10140;</div>
                        <div class="flow-box">Performance Test Run (PTR)</div>
                        <div class="arrow md:rotate-[-90deg]">&#10140;</div>
                        <div class="flow-box bg-green-100 border-green-500 text-green-700">Provisional Acceptance (PAC)</div>
                    </div>
                    <p class="text-center mt-6 text-[#374C80]">The successful completion of the PTR leads to the issuance of the Provisional Acceptance Certificate (PAC), marking the transfer of Care, Custody, and Control (CCC) to the owner and the start of the warranty period.</p>
                </div>
            </section>
        </main>

        <footer class="text-center mt-16 pt-8 border-t border-gray-300">
            <p class="text-gray-500">Infographic generated based on industrial and building commissioning standards.</p>
        </footer>
    </div>

    <script>
        const wrapLabel = (label) => {
            if (label.length <= 16) {
                return label;
            }
            const words = label.split(' ');
            const lines = [];
            let currentLine = '';
            for (const word of words) {
                if ((currentLine + ' ' + word).length > 16 && currentLine.length > 0) {
                    lines.push(currentLine);
                    currentLine = word;
                } else {
                    currentLine += (currentLine.length === 0 ? '' : ' ') + word;
                }
            }
            if (currentLine) {
                lines.push(currentLine);
            }
            return lines;
        };

        const tooltipTitleCallback = (tooltipItems) => {
            const item = tooltipItems[0];
            let label = item.chart.data.labels[item.dataIndex];
            if (Array.isArray(label)) {
                return label.join(' ');
            } else {
                return label;
            }
        };

        const commonChartOptions = {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                legend: {
                    position: 'top',
                },
                tooltip: {
                    callbacks: {
                        title: tooltipTitleCallback,
                    }
                }
            },
            scales: {
                y: {
                    beginAtZero: true,
                    grid: {
                        color: '#e5e7eb'
                    },
                    ticks: {
                        color: '#4b5563'
                    }
                },
                x: {
                    grid: {
                        display: false
                    },
                     ticks: {
                        color: '#4b5563'
                    }
                }
            }
        };

        // Chart 1: Pressure Test Stored Energy
        const pressureCtx = document.getElementById('pressureTestChart').getContext('2d');
        new Chart(pressureCtx, {
            type: 'bar',
            data: {
                labels: ['Hydrostatic Test', 'Pneumatic Test'],
                datasets: [{
                    label: 'Relative Stored Energy (Logarithmic Scale)',
                    data: [1, 10000], 
                    backgroundColor: ['#7A5195', '#EF5675'],
                    borderColor: ['#7A5195', '#EF5675'],
                    borderWidth: 1
                }]
            },
            options: {
                ...commonChartOptions,
                indexAxis: 'y',
                 scales: {
                    x: {
                        type: 'logarithmic',
                        beginAtZero: false,
                         grid: { color: '#e5e7eb' },
                         ticks: { 
                            color: '#4b5563',
                            callback: function(value, index, values) {
                                if (value === 1 || value === 100 || value === 10000) {
                                    return value.toLocaleString() + 'x';
                                }
                            }
                        }
                    },
                     y: {
                         grid: { display: false },
                         ticks: { color: '#4b5563', font: { size: 14 }}
                     }
                },
                plugins: {
                    ...commonChartOptions.plugins,
                    title: {
                        display: true,
                        text: 'Stored Energy Comparison (Illustrative)'
                    },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                let label = context.dataset.label || '';
                                if (label) {
                                    label += ': ';
                                }
                                if(context.parsed.x !== null) {
                                     label += `${context.parsed.x.toLocaleString()}x Relative Energy`;
                                }
                                return label;
                            }
                        }
                    }
                }
            }
        });

        // Chart 2: Cleaning Velocity
        const cleaningCtx = document.getElementById('cleaningVelocityChart').getContext('2d');
        new Chart(cleaningCtx, {
            type: 'bar',
            data: {
                labels: ['Water Flushing', wrapLabel('Air / Steam Blowing')],
                datasets: [{
                    label: 'Minimum Required Velocity (m/sec)',
                    data: [1.2, 2.7],
                    backgroundColor: ['#374C80', '#FFA600'],
                    borderColor: ['#374C80', '#FFA600'],
                    borderWidth: 1
                }]
            },
             options: {
                ...commonChartOptions,
                 plugins: {
                    ...commonChartOptions.plugins,
                    title: {
                        display: true,
                        text: 'Flushing & Blowing Velocities for Debris Removal'
                    }
                }
            }
        });

        // Chart 3: Pump Curve
        const pumpCtx = document.getElementById('pumpCurveChart').getContext('2d');
        new Chart(pumpCtx, {
            type: 'line',
            data: {
                labels: ['0 (Churn)', '50', '100 (Rated)', '125', '150 (Max)'],
                datasets: [{
                    label: 'Design Pump Curve',
                    data: [120, 115, 100, 85, 65],
                    borderColor: '#003F5C',
                    backgroundColor: 'rgba(0, 63, 92, 0.1)',
                    fill: false,
                    tension: 0.1
                }, {
                    type: 'scatter',
                    label: 'Field Test Points',
                    data: [{x: '0 (Churn)', y: 122}, {x: '100 (Rated)', y: 101}, {x: '150 (Max)', y: 68}],
                    backgroundColor: '#EF5675',
                    pointRadius: 6,
                    pointHoverRadius: 8
                }]
            },
            options: {
                ...commonChartOptions,
                scales: {
                    y: {
                        beginAtZero: true,
                        title: { display: true, text: 'Head (Pressure)'}
                    },
                    x: {
                         title: { display: true, text: 'Flow Rate (% of Rated)'}
                    }
                },
                 plugins: {
                    ...commonChartOptions.plugins,
                    title: {
                        display: true,
                        text: 'Pump Performance Verification'
                    }
                }
            }
        });

        // Chart 4: Stability Chart
        const stabilityCtx = document.getElementById('stabilityChart').getContext('2d');
        new Chart(stabilityCtx, {
            type: 'line',
            data: {
                labels: ['0h', '12h', '24h', '36h', '48h', '60h', '72h'],
                datasets: [
                {
                    label: 'Upper Limit (+3%)',
                    data: [103, 103, 103, 103, 103, 103, 103],
                    borderColor: '#FF764A',
                    borderDash: [5, 5],
                    pointRadius: 0,
                    fill: false,
                },
                {
                    label: 'Plant Throughput',
                    data: [100.5, 101, 100, 101.5, 99.5, 100.8, 100.2],
                    borderColor: '#003F5C',
                    backgroundColor: 'rgba(0, 63, 92, 0.1)',
                    fill: '-1',
                    tension: 0.2
                },
                {
                    label: 'Lower Limit (-3%)',
                    data: [97, 97, 97, 97, 97, 97, 97],
                    borderColor: '#FF764A',
                    borderDash: [5, 5],
                    pointRadius: 0,
                    fill: false
                }]
            },
            options: {
                ...commonChartOptions,
                 scales: {
                    y: {
                        suggestedMin: 95,
                        suggestedMax: 105,
                         title: { display: true, text: '% of Design Capacity'}
                    },
                    x: {
                         title: { display: true, text: 'Test Duration'}
                    }
                },
                plugins: {
                    ...commonChartOptions.plugins,
                    title: {
                        display: true,
                        text: 'Performance Test Throughput Stability'
                    }
                }
            }
        });

    </script>
</body>
</html>
